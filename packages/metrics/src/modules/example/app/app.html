<template>
    <main>
        <div>
            <h1>
                Bootstrap
                <span>(<a target="_blank" href="https://rfcs.lwc.dev/rfcs/lwr/0000-lwr-bootstrap#js-client-runtime">read more</a>)</span>
            </h1>
            <ul>
                <li>
                    <strong>Bootstrap time: </strong>
                    <span if:true={hasTime}>{bootstrapTime} ms</span>
                    <span if:false={hasTime}>Calculating...</span>
                </li>
                <li>
                    <strong>Availability: </strong>
                    <span if:true={hasBAvailability}>{bootstrapAvailability}%</span>
                    <span if:false={hasBAvailability}>Calculating...</span>
                </li>
            </ul>

            <h1>
                Routing and Navigation
                <span>(<a target="_blank" href="https://rfcs.lwc.dev/rfcs/lwr/0003-router-api-baseline">read more</a>)</span>
            </h1>
            <ul>
                <li><strong>Navigation Event count: </strong>{navEventCount}</li>
                <li>
                    <strong>Availability: </strong>
                    <span if:true={hasRAvailability}>{routerAvailability}%</span>
                    <span if:false={hasRAvailability}>Calculating...</span>
                </li>
            </ul>

            <h1>
                AMD Loader
                <span>(<a target="_blank" href="https://rfcs.lwc.dev/rfcs/lwr/0000-lwr-bootstrap#amd-loader%2Floader-shim">read more</a>)</span>
            </h1>
            <ul>
                <li>
                    <strong>Availability: </strong>
                    <span if:true={hasLAvailability}>{loaderAvailability}%</span>
                    <span if:false={hasLAvailability}>Calculating...</span>
                </li>
                <li>
                    <strong>Modules defined: </strong>
                    <span if:false={definitionCount}><em>none</em></span>
                    <ol>
                        <template for:each={definitions} for:item="item">
                            <li key={item.index}>{item.id}</li>
                        </template>
                    </ol>
                </li>
                <li>
                    <strong>Modules fetched: </strong>
                    <span if:false={moduleCount}><em>none</em></span>
                    <ol>
                        <template for:each={modules} for:item="item">
                            <li key={item.index}>{item.id}</li>
                        </template>
                    </ol>
                </li>
                <li>
                    <strong>Mappings fetched: </strong>
                    <span if:false={mappingsCount}><em>none</em></span>
                    <span>(<a target="_blank" href="https://rfcs.lwc.dev/rfcs/lwr/0000-mapping-api">read more</a>)</span>
                    <ol>
                        <template for:each={mappings} for:item="item">
                            <li key={item.index}>{item.id}</li>
                        </template>
                    </ol>
                </li>
            </ul>
        </div>

        <div>
            <h1>Router and Outlet</h1>
            <lwr-router-container router={router}>
                <div>
                    <example-nav-button name="a"></example-nav-button>
                    <example-nav-button name="b"></example-nav-button>
                    <example-nav-button name="c"></example-nav-button>
                    <example-nav-button name="Error"></example-nav-button>
                </div>
                <lwr-outlet></lwr-outlet>
            </lwr-router-container>

            <h1>Loader Errors</h1>
            <div class="buttons">
                <button data-name="d" onclick={loadModule}>Module does not exist</button>
                <button data-name="e" onclick={loadModule}>Module with broken mappings</button>
            </div>
            <example-dynamic lwc:dynamic={moduleCtor}></example-dynamic>
        </div>
    </main>
</template>
